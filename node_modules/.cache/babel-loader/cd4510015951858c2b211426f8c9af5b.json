{"remainingRequest":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js!/Users/akuznetsov/Web/mediumclone_vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js","dependencies":[{"path":"/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js","mtime":1622580762615},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYWt1em5ldHNvdi9XZWIvbWVkaXVtY2xvbmVfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX211dGF0aW9ucywgX2dldHRlcnMsIF9hY3Rpb25zOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBhdXRoQXBpIGZyb20gJ0AvYXBpL2F1dGgnOwppbXBvcnQgeyBzZXRJdGVtIH0gZnJvbSAnQC9oZWxwZXJzL3BlcnNpc3RhbmNlU3RvcmFnZSc7CnZhciBzdGF0ZSA9IHsKICBpc1N1Ym1pdHRpbmc6IGZhbHNlLAogIGlzTG9hZGluZzogZmFsc2UsCiAgY3VycmVudFVzZXI6IG51bGwsCiAgdmFsaWRhdGlvbkVycm9yczogbnVsbCwKICBpc0xvZ2dlZEluOiBudWxsCn07CmV4cG9ydCB2YXIgbXV0YXRpb25UeXBlcyA9IHsKICByZWdpc3RlclN0YXJ0OiAnW2F1dGhdIHJlZ2lzdGVyU3RhcnQnLAogIHJlZ2lzdGVyU3VjY2VzczogJ1thdXRoXSByZWdpc3RlclN1Y2Nlc3MnLAogIHJlZ2lzdGVyRmFpbHVyZTogJ1thdXRoXSByZWdpc3RlckZhaWx1cmUnLAogIGxvZ2luU3RhcnQ6ICdbYXV0aF0gbG9naW5TdGFydCcsCiAgbG9naW5TdWNjZXNzOiAnW2F1dGhdIGxvZ2luU3VjY2VzcycsCiAgbG9naW5GYWlsdXJlOiAnW2F1dGhdIGxvZ2luRmFpbHVyZScsCiAgZ2V0Q3VycmVudFVzZXJTdGFydDogJ1thdXRoXSBnZXRDdXJyZW50VXNlclN0YXJ0JywKICBnZXRDdXJyZW50VXNlclN1Y2Nlc3M6ICdbYXV0aF0gZ2V0Q3VycmVudFVzZXJTdWNjZXNzJywKICBnZXRDdXJyZW50VXNlckZhaWx1cmU6ICdbYXV0aF0gZ2V0Q3VycmVudFVzZXJGYWlsdXJlJwp9Owp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIG11dGF0aW9uVHlwZXMucmVnaXN0ZXJTdGFydCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXNTdWJtaXR0aW5nID0gdHJ1ZTsKICBzdGF0ZS52YWxpZGF0aW9uRXJyb3JzID0gbnVsbDsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBtdXRhdGlvblR5cGVzLnJlZ2lzdGVyU3VjY2VzcywgZnVuY3Rpb24gKHN0YXRlLCBwYXlsb2FkKSB7CiAgc3RhdGUuaXNTdWJtaXR0aW5nID0gZmFsc2U7CiAgc3RhdGUuY3VycmVudFVzZXIgPSBwYXlsb2FkOwogIHN0YXRlLmlzTG9nZ2VkSW4gPSB0cnVlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIG11dGF0aW9uVHlwZXMucmVnaXN0ZXJGYWlsdXJlLCBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHsKICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICBzdGF0ZS52YWxpZGF0aW9uRXJyb3JzID0gcGF5bG9hZDsKICBzdGF0ZS5pc0xvZ2dlZEluID0gZmFsc2U7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgbXV0YXRpb25UeXBlcy5sb2dpblN0YXJ0LCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSB0cnVlOwogIHN0YXRlLnZhbGlkYXRpb25FcnJvcnMgPSBudWxsOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIG11dGF0aW9uVHlwZXMubG9naW5TdWNjZXNzLCBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHsKICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICBzdGF0ZS5jdXJyZW50VXNlciA9IHBheWxvYWQ7CiAgc3RhdGUuaXNMb2dnZWRJbiA9IHRydWU7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgbXV0YXRpb25UeXBlcy5sb2dpbkZhaWx1cmUsIGZ1bmN0aW9uIChzdGF0ZSwgcGF5bG9hZCkgewogIHN0YXRlLmlzU3VibWl0dGluZyA9IGZhbHNlOwogIHN0YXRlLnZhbGlkYXRpb25FcnJvcnMgPSBwYXlsb2FkOwogIHN0YXRlLmlzTG9nZ2VkSW4gPSBmYWxzZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBtdXRhdGlvblR5cGVzLmdldEN1cnJlbnRVc2VyU3RhcnQsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgbXV0YXRpb25UeXBlcy5nZXRDdXJyZW50VXNlclN1Y2Nlc3MsIGZ1bmN0aW9uIChzdGF0ZSwgcGF5bG9hZCkgewogIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlOwogIHN0YXRlLmlzTG9nZ2VkSW4gPSB0cnVlOwogIHN0YXRlLmN1cnJlbnRVc2VyID0gcGF5bG9hZDsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBtdXRhdGlvblR5cGVzLmdldEN1cnJlbnRVc2VyRmFpbHVyZSwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7CiAgc3RhdGUuaXNMb2dnZWRJbiA9IGZhbHNlOwogIHN0YXRlLmN1cnJlbnRVc2VyID0gbnVsbDsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgdmFyIGFjdGlvblR5cGVzID0gewogIHJlZ2lzdGVyOiAnW2F1dGhdIHJlZ2lzdGVyJywKICBsb2dpbjogJ1thdXRoXSBsb2dpbicsCiAgZ2V0Q3VycmVudFVzZXI6ICdbYXV0aF0gZ2V0Q3VycmVudFVzZXInCn07CmV4cG9ydCB2YXIgZ2V0dGVyVHlwZXMgPSB7CiAgY3VycmVudFVzZXI6ICdbYXV0aF0gY3VycmVudFVzZXInLAogIGlzTG9nZ2VkSW46ICdbYXV0aF0gaXNMb2dnZWRJbicsCiAgaXNBbm9ueW1vdXM6ICdbYXV0aF0gaXNBbm9ueW1vdXMnCn07CnZhciBnZXR0ZXJzID0gKF9nZXR0ZXJzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZ2V0dGVycywgZ2V0dGVyVHlwZXMuY3VycmVudFVzZXIsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHJldHVybiBzdGF0ZS5jdXJyZW50VXNlcjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfZ2V0dGVycywgZ2V0dGVyVHlwZXMuaXNMb2dnZWRJbiwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgcmV0dXJuIEJvb2xlYW4oc3RhdGUuaXNMb2dnZWRJbik7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2dldHRlcnMsIGdldHRlclR5cGVzLmlzQW5vbnltb3VzLCBmdW5jdGlvbiAoc3RhdGUpIHsKICByZXR1cm4gc3RhdGUuaXNMb2dnZWRJbiA9PT0gZmFsc2U7Cn0pLCBfZ2V0dGVycyk7CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgYWN0aW9uVHlwZXMucmVnaXN0ZXIsIGZ1bmN0aW9uIChjb250ZXh0LCBjcmVkZW50aWFscykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgY29udGV4dC5jb21taXQobXV0YXRpb25UeXBlcy5yZWdpc3RlclN0YXJ0KTsKICAgIGF1dGhBcGkucmVnaXN0ZXIoY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KG11dGF0aW9uVHlwZXMucmVnaXN0ZXJTdWNjZXNzLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICBzZXRJdGVtKCdhY2Nlc3NUb2tlbicsIHJlc3BvbnNlLmRhdGEudXNlci50b2tlbik7CiAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YS51c2VyKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgY29udGV4dC5jb21taXQobXV0YXRpb25UeXBlcy5yZWdpc3RlckZhaWx1cmUsIHJlc3VsdC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgIGNvbnNvbGUud2FybigncmVnaXN0ZXIgZXJyb3JzOicsIHJlc3VsdCk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgYWN0aW9uVHlwZXMubG9naW4sIGZ1bmN0aW9uIChjb250ZXh0LCBjcmVkZW50aWFscykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgY29udGV4dC5jb21taXQobXV0YXRpb25UeXBlcy5sb2dpblN0YXJ0KTsKICAgIGF1dGhBcGkubG9naW4oY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KG11dGF0aW9uVHlwZXMubG9naW5TdWNjZXNzLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICBzZXRJdGVtKCdhY2Nlc3NUb2tlbicsIHJlc3BvbnNlLmRhdGEudXNlci50b2tlbik7CiAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YS51c2VyKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgY29udGV4dC5jb21taXQobXV0YXRpb25UeXBlcy5sb2dpbkZhaWx1cmUsIHJlc3VsdC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgIGNvbnNvbGUud2FybignbG9naW4gZXJyb3JzOicsIHJlc3VsdCk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgYWN0aW9uVHlwZXMuZ2V0Q3VycmVudFVzZXIsIGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBjb250ZXh0LmNvbW1pdChtdXRhdGlvblR5cGVzLmdldEN1cnJlbnRVc2VyU3RhcnQpOwogICAgYXV0aEFwaS5nZXRDdXJyZW50VXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KG11dGF0aW9uVHlwZXMuZ2V0Q3VycmVudFVzZXJTdWNjZXNzLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KG11dGF0aW9uVHlwZXMuZ2V0Q3VycmVudFVzZXJGYWlsdXJlKTsKICAgIH0pOwogIH0pOwp9KSwgX2FjdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js"],"names":["authApi","setItem","state","isSubmitting","isLoading","currentUser","validationErrors","isLoggedIn","mutationTypes","registerStart","registerSuccess","registerFailure","loginStart","loginSuccess","loginFailure","getCurrentUserStart","getCurrentUserSuccess","getCurrentUserFailure","mutations","payload","actionTypes","register","login","getCurrentUser","getterTypes","isAnonymous","getters","Boolean","actions","context","credentials","Promise","resolve","commit","then","response","data","user","token","catch","result","errors","console","warn","log"],"mappings":"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","sourcesContent":["import authApi from '@/api/auth';\nimport { setItem } from '@/helpers/persistanceStorage';\n\nconst state = {\n\tisSubmitting: false,\n\tisLoading: false,\n\tcurrentUser: null,\n\tvalidationErrors: null,\n\tisLoggedIn: null,\n};\n\nexport const mutationTypes = {\n\tregisterStart: '[auth] registerStart',\n\tregisterSuccess: '[auth] registerSuccess',\n\tregisterFailure: '[auth] registerFailure',\n\n\tloginStart: '[auth] loginStart',\n\tloginSuccess: '[auth] loginSuccess',\n\tloginFailure: '[auth] loginFailure',\n\n\tgetCurrentUserStart: '[auth] getCurrentUserStart',\n\tgetCurrentUserSuccess: '[auth] getCurrentUserSuccess',\n\tgetCurrentUserFailure: '[auth] getCurrentUserFailure',\n};\n\nconst mutations = {\n\t[mutationTypes.registerStart](state) {\n\t\tstate.isSubmitting = true;\n\t\tstate.validationErrors = null;\n\t},\n\t[mutationTypes.registerSuccess](state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.currentUser = payload;\n\t\tstate.isLoggedIn = true;\n\t},\n\t[mutationTypes.registerFailure](state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.validationErrors = payload;\n\t\tstate.isLoggedIn = false;\n\t},\n\t[mutationTypes.loginStart](state) {\n\t\tstate.isSubmitting = true;\n\t\tstate.validationErrors = null;\n\t},\n\t[mutationTypes.loginSuccess](state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.currentUser = payload;\n\t\tstate.isLoggedIn = true;\n\t},\n\t[mutationTypes.loginFailure](state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.validationErrors = payload;\n\t\tstate.isLoggedIn = false;\n\t},\n\t[mutationTypes.getCurrentUserStart](state) {\n\t\tstate.isLoading = true;\n\t},\n\t[mutationTypes.getCurrentUserSuccess](state, payload) {\n\t\tstate.isLoading = false;\n\t\tstate.isLoggedIn = true;\n\t\tstate.currentUser = payload;\n\t},\n\t[mutationTypes.getCurrentUserFailure](state) {\n\t\tstate.isLoading = false;\n\t\tstate.isLoggedIn = false;\n\t\tstate.currentUser = null;\n\t},\n};\n\nexport const actionTypes = {\n\tregister: '[auth] register',\n\tlogin: '[auth] login',\n\tgetCurrentUser: '[auth] getCurrentUser',\n};\n\nexport const getterTypes = {\n\tcurrentUser: '[auth] currentUser',\n\tisLoggedIn: '[auth] isLoggedIn',\n\tisAnonymous: '[auth] isAnonymous',\n};\n\nconst getters = {\n\t[getterTypes.currentUser]: (state) => {\n\t\treturn state.currentUser;\n\t},\n\t[getterTypes.isLoggedIn]: (state) => {\n\t\treturn Boolean(state.isLoggedIn);\n\t},\n\t[getterTypes.isAnonymous]: (state) => {\n\t\treturn state.isLoggedIn === false;\n\t},\n};\n\nconst actions = {\n\t[actionTypes.register](context, credentials) {\n\t\treturn new Promise((resolve) => {\n\t\t\tcontext.commit(mutationTypes.registerStart);\n\t\t\tauthApi\n\t\t\t\t.register(credentials)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit(mutationTypes.registerSuccess, response.data.user);\n\t\t\t\t\tsetItem('accessToken', response.data.user.token);\n\t\t\t\t\tresolve(response.data.user);\n\t\t\t\t})\n\t\t\t\t.catch((result) => {\n\t\t\t\t\tcontext.commit(\n\t\t\t\t\t\tmutationTypes.registerFailure,\n\t\t\t\t\t\tresult.response.data.errors\n\t\t\t\t\t);\n\t\t\t\t\tconsole.warn('register errors:', result);\n\t\t\t\t});\n\t\t});\n\t},\n\n\t[actionTypes.login](context, credentials) {\n\t\treturn new Promise((resolve) => {\n\t\t\tcontext.commit(mutationTypes.loginStart);\n\t\t\tauthApi\n\t\t\t\t.login(credentials)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit(mutationTypes.loginSuccess, response.data.user);\n\t\t\t\t\tsetItem('accessToken', response.data.user.token);\n\t\t\t\t\tresolve(response.data.user);\n\t\t\t\t})\n\t\t\t\t.catch((result) => {\n\t\t\t\t\tcontext.commit(\n\t\t\t\t\t\tmutationTypes.loginFailure,\n\t\t\t\t\t\tresult.response.data.errors\n\t\t\t\t\t);\n\t\t\t\t\tconsole.warn('login errors:', result);\n\t\t\t\t});\n\t\t});\n\t},\n\n\t[actionTypes.getCurrentUser](context) {\n\t\treturn new Promise((resolve) => {\n\t\t\tcontext.commit(mutationTypes.getCurrentUserStart);\n\t\t\tauthApi\n\t\t\t\t.getCurrentUser()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit(\n\t\t\t\t\t\tmutationTypes.getCurrentUserSuccess,\n\t\t\t\t\t\tresponse.data.user\n\t\t\t\t\t);\n\t\t\t\t\tconsole.log(response.data.user);\n\t\t\t\t\tresolve(response.data.user);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tcontext.commit(mutationTypes.getCurrentUserFailure);\n\t\t\t\t});\n\t\t});\n\t},\n};\n\nexport default {\n\tstate,\n\tmutations,\n\tactions,\n\tgetters,\n};\n"]}]}