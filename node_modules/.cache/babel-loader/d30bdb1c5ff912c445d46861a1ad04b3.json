{"remainingRequest":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/thread-loader/dist/cjs.js!/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js!/Users/akuznetsov/Web/mediumclone_vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js","dependencies":[{"path":"/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js","mtime":1621928569078},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBhdXRoQXBpIGZyb20gJ0AvYXBpL2F1dGgnOwppbXBvcnQgeyBzZXRJdGVtIH0gZnJvbSAnQC9oZWxwZXJzL3BlcnNpc3RhbmNlU3RvcmFnZSc7CnZhciBzdGF0ZSA9IHsKICBpc1N1Ym1pdHRpbmc6IGZhbHNlLAogIGN1cnJlbnRVc2VyOiBudWxsLAogIHZhbGlkYXRpb25FcnJvcnM6IG51bGwsCiAgaXNMb2dnZWRJbjogbnVsbAp9Owp2YXIgbXV0YXRpb25zID0gewogIHJlZ2lzdGVyU3RhcnQ6IGZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnQoc3RhdGUpIHsKICAgIHN0YXRlLmlzU3VibWl0dGluZyA9IHRydWU7CiAgICBzdGF0ZS52YWxpZGF0aW9uRXJyb3JzID0gbnVsbDsKICB9LAogIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gcGF5bG9hZDsKICAgIHN0YXRlLmlzTG9nZ2VkSW4gPSB0cnVlOwogIH0sCiAgcmVnaXN0ZXJGYWlsdXJlOiBmdW5jdGlvbiByZWdpc3RlckZhaWx1cmUoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmlzU3VibWl0dGluZyA9IGZhbHNlOwogICAgc3RhdGUudmFsaWRhdGlvbkVycm9ycyA9IHBheWxvYWQ7CiAgICBzdGF0ZS5pc0xvZ2dlZEluID0gZmFsc2U7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoY29udGV4dCwgY3JlZGVudGlhbHMpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgncmVnaXN0ZXJTdGFydCcpOwogICAgICBhdXRoQXBpLnJlZ2lzdGVyKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICAgIHNldEl0ZW0oJ2FjY2Vzc1Rva2VuJywgcmVzcG9uc2UuZGF0YS51c2VyLnRva2VuKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgncmVnaXN0ZXJGYWlsdXJlJywgcmVzdWx0LnJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgICBjb25zb2xlLndhcm4oJ3Jlc3VsdCBlcnJvcnM6JywgcmVzdWx0KTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["/Users/akuznetsov/Web/mediumclone_vue/src/store/modules/auth.js"],"names":["authApi","setItem","state","isSubmitting","currentUser","validationErrors","isLoggedIn","mutations","registerStart","registerSuccess","payload","registerFailure","actions","register","context","credentials","Promise","resolve","commit","then","response","data","user","token","catch","result","errors","console","warn"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,YAApB;AACA,SAASC,OAAT,QAAwB,8BAAxB;AAEA,IAAMC,KAAK,GAAG;AACbC,EAAAA,YAAY,EAAE,KADD;AAEbC,EAAAA,WAAW,EAAE,IAFA;AAGbC,EAAAA,gBAAgB,EAAE,IAHL;AAIbC,EAAAA,UAAU,EAAE;AAJC,CAAd;AAOA,IAAMC,SAAS,GAAG;AACjBC,EAAAA,aADiB,yBACHN,KADG,EACI;AACpBA,IAAAA,KAAK,CAACC,YAAN,GAAqB,IAArB;AACAD,IAAAA,KAAK,CAACG,gBAAN,GAAyB,IAAzB;AACA,GAJgB;AAKjBI,EAAAA,eALiB,2BAKDP,KALC,EAKMQ,OALN,EAKe;AAC/BR,IAAAA,KAAK,CAACC,YAAN,GAAqB,KAArB;AACAD,IAAAA,KAAK,CAACE,WAAN,GAAoBM,OAApB;AACAR,IAAAA,KAAK,CAACI,UAAN,GAAmB,IAAnB;AACA,GATgB;AAUjBK,EAAAA,eAViB,2BAUDT,KAVC,EAUMQ,OAVN,EAUe;AAC/BR,IAAAA,KAAK,CAACC,YAAN,GAAqB,KAArB;AACAD,IAAAA,KAAK,CAACG,gBAAN,GAAyBK,OAAzB;AACAR,IAAAA,KAAK,CAACI,UAAN,GAAmB,KAAnB;AACA;AAdgB,CAAlB;AAiBA,IAAMM,OAAO,GAAG;AACfC,EAAAA,QADe,oBACNC,OADM,EACGC,WADH,EACgB;AAC9B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BH,MAAAA,OAAO,CAACI,MAAR,CAAe,eAAf;AACAlB,MAAAA,OAAO,CACLa,QADF,CACWE,WADX,EAEEI,IAFF,CAEO,UAACC,QAAD,EAAc;AACnBN,QAAAA,OAAO,CAACI,MAAR,CAAe,iBAAf,EAAkCE,QAAQ,CAACC,IAAT,CAAcC,IAAhD;AACArB,QAAAA,OAAO,CAAC,aAAD,EAAgBmB,QAAQ,CAACC,IAAT,CAAcC,IAAd,CAAmBC,KAAnC,CAAP;AACAN,QAAAA,OAAO,CAACG,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAP;AACA,OANF,EAOEE,KAPF,CAOQ,UAACC,MAAD,EAAY;AAClBX,QAAAA,OAAO,CAACI,MAAR,CAAe,iBAAf,EAAkCO,MAAM,CAACL,QAAP,CAAgBC,IAAhB,CAAqBK,MAAvD;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+BH,MAA/B;AACA,OAVF;AAWA,KAbM,CAAP;AAcA;AAhBc,CAAhB;AAmBA,eAAe;AACdvB,EAAAA,KAAK,EAALA,KADc;AAEdK,EAAAA,SAAS,EAATA,SAFc;AAGdK,EAAAA,OAAO,EAAPA;AAHc,CAAf","sourcesContent":["import authApi from '@/api/auth';\nimport { setItem } from '@/helpers/persistanceStorage';\n\nconst state = {\n\tisSubmitting: false,\n\tcurrentUser: null,\n\tvalidationErrors: null,\n\tisLoggedIn: null,\n};\n\nconst mutations = {\n\tregisterStart(state) {\n\t\tstate.isSubmitting = true;\n\t\tstate.validationErrors = null;\n\t},\n\tregisterSuccess(state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.currentUser = payload;\n\t\tstate.isLoggedIn = true;\n\t},\n\tregisterFailure(state, payload) {\n\t\tstate.isSubmitting = false;\n\t\tstate.validationErrors = payload;\n\t\tstate.isLoggedIn = false;\n\t},\n};\n\nconst actions = {\n\tregister(context, credentials) {\n\t\treturn new Promise((resolve) => {\n\t\t\tcontext.commit('registerStart');\n\t\t\tauthApi\n\t\t\t\t.register(credentials)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tcontext.commit('registerSuccess', response.data.user);\n\t\t\t\t\tsetItem('accessToken', response.data.user.token);\n\t\t\t\t\tresolve(response.data.user);\n\t\t\t\t})\n\t\t\t\t.catch((result) => {\n\t\t\t\t\tcontext.commit('registerFailure', result.response.data.errors);\n\t\t\t\t\tconsole.warn('result errors:', result);\n\t\t\t\t});\n\t\t});\n\t},\n};\n\nexport default {\n\tstate,\n\tmutations,\n\tactions,\n};\n"]}]}