{"remainingRequest":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js!/Users/akuznetsov/Web/mediumclone_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/akuznetsov/Web/mediumclone_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/akuznetsov/Web/mediumclone_vue/src/components/Feed.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/akuznetsov/Web/mediumclone_vue/src/components/Feed.vue","mtime":1623361769000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akuznetsov/Web/mediumclone_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FrdXpuZXRzb3YvV2ViL21lZGl1bWNsb25lX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGFjdGlvblR5cGVzIH0gZnJvbSAnQC9zdG9yZS9tb2R1bGVzL2ZlZWRTdGF0ZSc7CmltcG9ydCB7IHN0cmluZ2lmeSwgcGFyc2VVcmwgfSBmcm9tICdxdWVyeS1zdHJpbmcnOwppbXBvcnQgTWN2UGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7CmltcG9ydCB7IGxpbWl0IH0gZnJvbSAnQC9oZWxwZXJzL3ZhcmlibGVzJzsKaW1wb3J0IE1jdkxvYWRpbmcgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTWN2RXJyb3JNZXNzYWdlIGZyb20gJ0AvY29tcG9uZW50cy9FcnJvck1lc3NhZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01jdkZlZWQnLAogIHByb3BzOiB7CiAgICBhcGlVcmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTWN2UGFnaW5hdGlvbjogTWN2UGFnaW5hdGlvbiwKICAgIE1jdkxvYWRpbmc6IE1jdkxvYWRpbmcsCiAgICBNY3ZFcnJvck1lc3NhZ2U6IE1jdkVycm9yTWVzc2FnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpbWl0OiBsaW1pdAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGlzTG9hZGluZzogZnVuY3Rpb24gaXNMb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5mZWVkLmlzTG9hZGluZzsKICAgIH0sCiAgICBmZWVkOiBmdW5jdGlvbiBmZWVkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5mZWVkLmRhdGE7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5mZWVkLmVycm9yOwogICAgfQogIH0pKSwge30sIHsKICAgIGN1cnJlbnRQYWdlOiBmdW5jdGlvbiBjdXJyZW50UGFnZSgpIHsKICAgICAgcmV0dXJuIE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlIHx8ICcxJyk7CiAgICB9LAogICAgYmFzZVVybDogZnVuY3Rpb24gYmFzZVVybCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGg7CiAgICB9LAogICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlICogbGltaXQgLSBsaW1pdDsKICAgIH0sCiAgICBwYXRoOiBmdW5jdGlvbiBwYXRoKCkgewogICAgICByZXR1cm4gdGhpcy5hcGlVcmw7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQYWdlOiBmdW5jdGlvbiBjdXJyZW50UGFnZSgpIHsKICAgICAgdGhpcy5mZXRjaEZlZWQoKTsKICAgIH0sCiAgICBwYXRoOiBmdW5jdGlvbiBwYXRoKCkgewogICAgICB0aGlzLmZldGNoRmVlZCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hGZWVkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEZlZWQ6IGZ1bmN0aW9uIGZldGNoRmVlZCgpIHsKICAgICAgY29uc29sZS5sb2coJ0FwaSB1cmw6JywgdGhpcy5hcGlVcmwpOwogICAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmwodGhpcy5hcGlVcmwpOwogICAgICB2YXIgc3RyaW5naWZpZWRQYXJhbXMgPSBzdHJpbmdpZnkoX29iamVjdFNwcmVhZCh7CiAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQKICAgICAgfSwgcGFyc2VkVXJsLnF1ZXJ5KSk7CiAgICAgIHZhciBhcGlVcmxXaXRoUGFyYW1zID0gIiIuY29uY2F0KHBhcnNlZFVybC51cmwsICI/IikuY29uY2F0KHN0cmluZ2lmaWVkUGFyYW1zKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYWN0aW9uVHlwZXMuZ2V0RmVlZCwgewogICAgICAgIGFwaVVybDogYXBpVXJsV2l0aFBhcmFtcwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/akuznetsov/Web/mediumclone_vue/src/components/Feed.vue"],"names":[],"mappings":";;;AAuDA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,WAAT,QAA4B,2BAA5B;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,cAApC;AACA,OAAO,aAAP,MAA0B,yBAA1B;AACA,SAAS,KAAT,QAAsB,oBAAtB;AACA,OAAO,UAAP,MAAuB,sBAAvB;AACA,OAAO,eAAP,MAA4B,2BAA5B;AAEA,eAAe;AACd,EAAA,IAAI,EAAE,SADQ;AAEd,EAAA,KAAK,EAAE;AACN,IAAA,MAAM,EAAE;AACP,MAAA,IAAI,EAAE,MADC;AAEP,MAAA,QAAQ,EAAE;AAFH;AADF,GAFO;AAQd,EAAA,UAAU,EAAE;AACX,IAAA,aAAa,EAAb,aADW;AAEX,IAAA,UAAU,EAAV,UAFW;AAGX,IAAA,eAAe,EAAf;AAHW,GARE;AAad,EAAA,IAbc,kBAaP;AACN,WAAO;AACN,MAAA,KAAK,EAAL;AADM,KAAP;AAGA,GAjBa;AAkBd,EAAA,QAAQ,kCACJ,QAAQ,CAAC;AACX,IAAA,SAAS,EAAE,mBAAC,KAAD;AAAA,aAAW,KAAK,CAAC,IAAN,CAAW,SAAtB;AAAA,KADA;AAEX,IAAA,IAAI,EAAE,cAAC,KAAD;AAAA,aAAW,KAAK,CAAC,IAAN,CAAW,IAAtB;AAAA,KAFK;AAGX,IAAA,KAAK,EAAE,eAAC,KAAD;AAAA,aAAW,KAAK,CAAC,IAAN,CAAW,KAAtB;AAAA;AAHI,GAAD,CADJ;AAMP,IAAA,WANO,yBAMO;AACb,aAAO,MAAM,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,IAA0B,GAA3B,CAAb;AACA,KARM;AASP,IAAA,OATO,qBASG;AACT,aAAO,KAAK,MAAL,CAAY,IAAnB;AACA,KAXM;AAYP,IAAA,MAZO,oBAYE;AACR,aAAO,KAAK,WAAL,GAAmB,KAAnB,GAA2B,KAAlC;AACA,KAdM;AAeP,IAAA,IAfO,kBAeA;AACN,aAAO,KAAK,MAAZ;AACA;AAjBM,IAlBM;AAqCd,EAAA,KAAK,EAAE;AACN,IAAA,WADM,yBACQ;AACb,WAAK,SAAL;AACA,KAHK;AAIN,IAAA,IAJM,kBAIC;AACN,WAAK,SAAL;AACA;AANK,GArCO;AA6Cd,EAAA,OA7Cc,qBA6CJ;AACT,SAAK,SAAL;AACA,GA/Ca;AAgDd,EAAA,OAAO,EAAE;AACR,IAAA,SADQ,uBACI;AACX,MAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,KAAK,MAA7B;AACA,UAAM,SAAQ,GAAI,QAAQ,CAAC,KAAK,MAAN,CAA1B;AACA,UAAM,iBAAgB,GAAI,SAAS;AAClC,QAAA,KAAK,EAAL,KADkC;AAElC,QAAA,MAAM,EAAE,KAAK;AAFqB,SAG/B,SAAS,CAAC,KAHqB,EAAnC;AAKA,UAAM,gBAAe,aAAO,SAAS,CAAC,GAAjB,cAAwB,iBAAxB,CAArB;AAEA,WAAK,MAAL,CAAY,QAAZ,CAAqB,WAAW,CAAC,OAAjC,EAA0C;AAAE,QAAA,MAAM,EAAE;AAAV,OAA1C;AACA;AAZO;AAhDK,CAAf","sourcesContent":["<template>\n\t<div>\n\t\t<mcv-loading v-if=\"isLoading\" />\n\t\t<mcv-error-message v-if=\"error\" />\n\n\t\t<div v-if=\"feed\">\n\t\t\t<div\n\t\t\t\tclass=\"article-preview\"\n\t\t\t\tv-for=\"(article, index) in feed.articles\"\n\t\t\t\t:key=\"index\"\n\t\t\t>\n\t\t\t\t<div class=\"article-meta\">\n\t\t\t\t\t<router-link\n\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\tname: 'userProfile',\n\t\t\t\t\t\t\tparams: { slug: article.author.username },\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<img :src=\"article.author.image\" />\n\t\t\t\t\t</router-link>\n\t\t\t\t\t<div class=\"info\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\tname: 'userProfile',\n\t\t\t\t\t\t\t\tparams: { slug: article.author.username },\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\tclass=\"author\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ article.author.username }}\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<span class=\"date\">{{ article.createdAt }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pull-xs-right\">ADD TO FAVORITES</div>\n\t\t\t\t</div>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{ name: 'article', params: { slug: article.slug } }\"\n\t\t\t\t\tclass=\"preview-link\"\n\t\t\t\t>\n\t\t\t\t\t<h1>{{ article.title }}</h1>\n\t\t\t\t\t<p>{{ article.description }}</p>\n\t\t\t\t\t<span>Read more...</span>\n\t\t\t\t\tTAG LIST\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t\t<mcv-pagination\n\t\t\t\t:total=\"feed.articlesCount\"\n\t\t\t\t:limit=\"limit\"\n\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t:url=\"baseUrl\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { actionTypes } from '@/store/modules/feedState';\nimport { stringify, parseUrl } from 'query-string';\nimport McvPagination from '@/components/Pagination';\nimport { limit } from '@/helpers/varibles';\nimport McvLoading from '@/components/Loading';\nimport McvErrorMessage from '@/components/ErrorMessage';\n\nexport default {\n\tname: 'McvFeed',\n\tprops: {\n\t\tapiUrl: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomponents: {\n\t\tMcvPagination,\n\t\tMcvLoading,\n\t\tMcvErrorMessage,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlimit,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisLoading: (state) => state.feed.isLoading,\n\t\t\tfeed: (state) => state.feed.data,\n\t\t\terror: (state) => state.feed.error,\n\t\t}),\n\t\tcurrentPage() {\n\t\t\treturn Number(this.$route.query.page || '1');\n\t\t},\n\t\tbaseUrl() {\n\t\t\treturn this.$route.path;\n\t\t},\n\t\toffset() {\n\t\t\treturn this.currentPage * limit - limit;\n\t\t},\n\t\tpath() {\n\t\t\treturn this.apiUrl;\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentPage() {\n\t\t\tthis.fetchFeed();\n\t\t},\n\t\tpath() {\n\t\t\tthis.fetchFeed();\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.fetchFeed();\n\t},\n\tmethods: {\n\t\tfetchFeed() {\n\t\t\tconsole.log('Api url:', this.apiUrl);\n\t\t\tconst parsedUrl = parseUrl(this.apiUrl);\n\t\t\tconst stringifiedParams = stringify({\n\t\t\t\tlimit,\n\t\t\t\toffset: this.offset,\n\t\t\t\t...parsedUrl.query,\n\t\t\t});\n\t\t\tconst apiUrlWithParams = `${parsedUrl.url}?${stringifiedParams}`;\n\n\t\t\tthis.$store.dispatch(actionTypes.getFeed, { apiUrl: apiUrlWithParams });\n\t\t},\n\t},\n};\n</script>\n"],"sourceRoot":""}]}